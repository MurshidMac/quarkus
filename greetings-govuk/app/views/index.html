{% extends "layout.html" %}

{% block pageTitle %}
GOV.UK with Quarkus.io
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <h1 class="govuk-heading-xl">
      The GOV.UK Prototype Kit with Quarkus.io
    </h1>{{releaseVersion | log }}

    <h2 class="govuk-heading-m">API Consumed from Quarkus.io</h2>

    <button type="submit" class="govuk-button govuk-!-margin-right-1" onclick="getValue()">
      Test Api
    </button>
    <div class="govuk-form-group">
      <label class="govuk-label" for="event-name">
        Quarkus Output
      </label>
      <input class="govuk-input" id="event-name" name="event-name" type="text">
    </div>

    <ul class="govuk-list govuk-list--bullet">
      <li><a href="/docs/tutorials-and-examples">Example pages and documentation</a></li>
      <li>
        <a href="https://design-system.service.gov.uk">
          GOV.UK Design System
        </a>
      </li>
    </ul>
  </div>
</div>
{% endblock %}

<script>

  const axios = require('axios');
  function getValue() {
    return axios.get('http://localhost:3000/hello')
      .then(function (response) {
        // handle success
        console.log(response);
        return response;
      })
      .catch(function (error) {
        // handle error
        console.log(error);
        return "error"
      })
      .finally(function () {
        // always executed
      });
  }

</script>